<div class="dashboard-container">
    <!-- Main Dashboard Layout -->
    <div class="dashboard-main">
        <!-- Sales Summary Card -->
        <div class="dashboard-main-content">
            <div class="dashboard-summary">
                <app-sales-summary-card 
                    [title]="cardTitle" 
                    [amount]="(total$ | async) || 0" 
                    [date]="displayDate" 
                    [dateRange]="dateRange"
                    [showInfo]="true"
                    [infoTooltip]="cardTooltip">
                </app-sales-summary-card>
            </div>
            <!-- Transactions Section -->
            <div class="dashboard-transactions">
                <!-- Period Tabs -->
                <div class="dashboard-tabs">
                    <app-tab-group [tabs]="tabItems" [activeTab]="activeTab" (tabChange)="onTabChange($event)">
                    </app-tab-group>
                </div>

                <!-- Filter Button -->
                <div class="dashboard-filters">
                    <app-filter-button 
                        [count]="(activeFiltersCount$ | async) || 0"
                        [currentSalesTypes]="(filters$ | async)?.salesTypes || []"
                        [currentPaymentMethods]="(filters$ | async)?.paymentMethods || []"
                        (onClick)="onFilterButtonClick($event)"
                        (applyFilters)="onFiltersApply($event)">
                    </app-filter-button>
                </div>

                <!-- Transactions Table -->

            </div>
        </div>
        <div class="dashboard-table">
            <app-transactions-table 
                [transactions]="(transactions$ | async) || []" 
                [title]="tableTitle"
                [showDeductions]="true"
                [searchPlaceholder]="'Buscar por ID, MÃ©todo de pago, Tipo de venta...'"
                [searchValue]="currentFilters.searchQuery"
                [showPagination]="true"
                [paginationConfig]="{ pageSize: 10, pageSizeOptions: [10, 20, 50, 100] }"
                (transactionClick)="onTransactionClick($event)"
                (searchChange)="onSearchChange($event)">
            </app-transactions-table>
        </div>
    </div>

    <!-- Transaction Detail Panel -->
    <app-transaction-detail-panel
        [isOpen]="isDetailPanelOpen"
        [transaction]="selectedTransaction"
        (close)="onDetailPanelClose()">
    </app-transaction-detail-panel>

</div>