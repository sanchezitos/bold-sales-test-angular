<!-- Backdrop para mÃ³viles -->
<div 
  *ngIf="isOpen() && isMobile()" 
  class="dropdown-backdrop"
  (click)="closeOnClickOutside && onClose.emit()">
</div>

<!-- Dropdown Content -->
<div 
  *ngIf="isOpen()"
  #dropdownRef
  class="dropdown-container"
  [class.dropdown-container--mobile]="isMobile()"
  [class.dropdown-container--desktop]="!isMobile()"
  [class.dropdown-container--width-sm]="width === 'sm'"
  [class.dropdown-container--width-md]="width === 'md'"
  [class.dropdown-container--width-lg]="width === 'lg'"
  [class.dropdown-container--width-auto]="width === 'auto'"
  [class.dropdown-container--bottom-left]="position === 'bottom-left'"
  [class.dropdown-container--bottom-right]="position === 'bottom-right'"
  [class.dropdown-container--bottom-center]="position === 'bottom-center'"
  [attr.role]="isMobile() ? 'dialog' : 'menu'"
  [attr.aria-labelledby]="title ? 'dropdown-title' : null"
  [attr.aria-modal]="isMobile()">
  
  <!-- Header -->
  <div *ngIf="showHeader" class="dropdown-header">
    <h3 *ngIf="title" id="dropdown-title" class="dropdown-title">{{ title }}</h3>
    
    <button
      *ngIf="showCloseButton"
      type="button"
      class="dropdown-close-button"
      (click)="onClose.emit()"
      [attr.aria-label]="'Cerrar'">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <line x1="18" y1="6" x2="6" y2="18"></line>
        <line x1="6" y1="6" x2="18" y2="18"></line>
      </svg>
    </button>
  </div>

  <!-- Body -->
  <div class="dropdown-body">
    <ng-content></ng-content>
  </div>
</div>


