<button
  [class]="buttonClasses"
  [disabled]="disabled || loading"
  (click)="onClick()"
  [attr.aria-label]="ariaLabel"
  type="button">
  
  <!-- Loading spinner -->
  <span *ngIf="loading" class="button-spinner" aria-hidden="true">
    <svg class="spinner" viewBox="0 0 24 24">
      <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none" opacity="0.3"/>
      <path d="M12 2a10 10 0 0 1 10 10" stroke="currentColor" stroke-width="2" fill="none">
        <animateTransform
          attributeName="transform"
          attributeType="XML"
          type="rotate"
          dur="1s"
          from="0 12 12"
          to="360 12 12"
          repeatCount="indefinite"/>
      </path>
    </svg>
  </span>

  <!-- Button content -->
  <span [class.button-content-hidden]="loading">
    <ng-content></ng-content>
  </span>
</button>
